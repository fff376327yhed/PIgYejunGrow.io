.sound-toggle:active {
            transform: scale(0.9);
        }

        /* ìƒì /ì¸ë²¤í† ë¦¬ ëª¨ë‹¬ */
        .shop-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .shop-modal.show {
            display: flex;
        }

        .shop-content {
            background: white;
            padding: 20px;
            border-radius: 20px;
            max-width: 90%;
            width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            animation: scaleIn 0.3s;
        }

        .shop-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .shop-title {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .shop-close {
            background: #e9ecef;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .shop-close:active {
            transform: scale(0.9);
        }

        .shop-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .shop-tab {
            flex: 1;
            padding: 12px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-ra<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë¼ì¤€ì´ í‚¤ìš°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            touch-action: pan-y;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.95);
            position: relative;
        }

        /* í—¤ë” */
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ff8787);
            padding: 20px;
            color: white;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .money-display {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
        }

        /* ë¼ì¤€ì´ í‘œì‹œ ì˜ì—­ */
        .daejun-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        .daejun-display {
            font-size: 120px;
            animation: float 3s ease-in-out infinite;
            transition: transform 0.3s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .daejun-info {
            text-align: center;
            margin-top: 20px;
        }

        .level-display {
            font-size: 28px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .upgrade-count {
            font-size: 16px;
            color: #666;
        }

        /* ê°•í™” í™•ë¥  í‘œì‹œ */
        .probability-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            width: 100%;
            max-width: 300px;
        }

        .prob-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 14px;
        }

        .prob-success { color: #51cf66; font-weight: bold; }
        .prob-fail { color: #ffa94d; }
        .prob-destroy { color: #ff6b6b; }

        /* ë²„íŠ¼ ì˜ì—­ */
        .button-area {
            padding: 20px;
            background: white;
            box-shadow: 0 -4px 6px rgba(0,0,0,0.05);
        }

        .upgrade-btn {
            width: 100%;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            margin-bottom: 10px;
        }

        .upgrade-btn:active {
            transform: scale(0.95);
        }

        .upgrade-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .cost-display {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        /* ê²°ê³¼ ëª¨ë‹¬ */
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .result-modal.show {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .result-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 80%;
            animation: scaleIn 0.3s;
        }

        @keyframes scaleIn {
            from { transform: scale(0.5); }
            to { transform: scale(1); }
        }

        .result-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .result-text {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .result-detail {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }

        .result-success {
            color: #51cf66;
        }

        .result-fail {
            color: #ffa94d;
        }

        .result-destroy {
            color: #ff6b6b;
        }

        .close-btn {
            padding: 12px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        /* íŒŒí‹°í´ íš¨ê³¼ */
        .particle {
            position: absolute;
            pointer-events: none;
            animation: particle-rise 1s ease-out forwards;
        }

        @keyframes particle-rise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0);
                opacity: 0;
            }
        }

        /* ë©”ë‰´ ë²„íŠ¼ë“¤ */
        .menu-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .menu-btn {
            flex: 1;
            padding: 12px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .menu-btn:active {
            transform: scale(0.95);
            background: #e9ecef;
        }

        /* íŒë§¤ ëª¨ë‹¬ */
        .sell-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .sell-modal.show {
            display: flex;
        }

        .sell-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 85%;
            width: 350px;
            animation: scaleIn 0.3s;
        }

        .sell-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #667eea;
        }

        .sell-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .sell-info-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-size: 16px;
        }

        .sell-price {
            color: #51cf66;
            font-weight: bold;
            font-size: 20px;
        }

        .sell-buttons {
            display: flex;
            gap: 10px;
        }

        .sell-confirm-btn, .sell-cancel-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .sell-confirm-btn {
            background: linear-gradient(135deg, #51cf66, #37b24d);
            color: white;
        }

        .sell-cancel-btn {
            background: #e9ecef;
            color: #495057;
        }

        .sell-confirm-btn:active, .sell-cancel-btn:active {
            transform: scale(0.95);
        }

        .sell-warning {
            background: #fff3bf;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 14px;
            color: #856404;
        }

        /* ìŒì†Œê±° ë²„íŠ¼ */
        .sound-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.3);
            border: none;
            color: white;
            font-size: 24px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }

        .sound-toggle:active {
            transform: scale(0.9);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <button class="sound-toggle" id="soundToggle" onclick="toggleSound()">ğŸ”Š</button>
            <h1>ğŸ· ë¼ì¤€ì´ í‚¤ìš°ê¸°</h1>
            <div class="money-display">
                ğŸ’° <span id="money">1000</span>ì›
            </div>
        </div>

        <!-- ë¼ì¤€ì´ í‘œì‹œ ì˜ì—­ -->
        <div class="daejun-area">
            <div class="daejun-display" id="daejunEmoji">ğŸ·</div>
            <div class="daejun-info">
                <div class="level-display">+<span id="level">0</span> ë¼ì¤€ì´</div>
                <div class="upgrade-count">ì´ ê°•í™” íšŸìˆ˜: <span id="upgradeCount">0</span>íšŒ</div>
            </div>

            <!-- í™•ë¥  í‘œì‹œ -->
            <div class="probability-box">
                <div class="prob-item">
                    <span>ì„±ê³µ í™•ë¥ :</span>
                    <span class="prob-success"><span id="successRate">100</span>%</span>
                </div>
                <div class="prob-item">
                    <span>ì‹¤íŒ¨ í™•ë¥ :</span>
                    <span class="prob-fail"><span id="failRate">0</span>%</span>
                </div>
                <div class="prob-item">
                    <span>íŒŒê´´ í™•ë¥ :</span>
                    <span class="prob-destroy"><span id="destroyRate">0</span>%</span>
                </div>
            </div>
        </div>

        <!-- ë²„íŠ¼ ì˜ì—­ -->
        <div class="button-area">
            <div class="menu-buttons">
                <button class="menu-btn" onclick="alert('ìƒì  ê¸°ëŠ¥ ì¤€ë¹„ì¤‘!')">ğŸª ìƒì </button>
                <button class="menu-btn" onclick="openSellModal()">ğŸ’° íŒë§¤</button>
                <button class="menu-btn" onclick="alert('ì„¤ì • ê¸°ëŠ¥ ì¤€ë¹„ì¤‘!')">âš™ï¸ ì„¤ì •</button>
            </div>
            <button class="upgrade-btn" id="upgradeBtn" onclick="upgrade()">
                âš”ï¸ ê°•í™”í•˜ê¸°!
            </button>
            <div class="cost-display">
                ê°•í™” ë¹„ìš©: <span id="cost">100</span>ì›
            </div>
        </div>
    </div>

    <!-- ê²°ê³¼ ëª¨ë‹¬ -->
    <div class="result-modal" id="resultModal">
        <div class="result-content">
            <div class="result-icon" id="resultIcon">âœ¨</div>
            <div class="result-text" id="resultText">ì„±ê³µ!</div>
            <div class="result-detail" id="resultDetail">+1 ë¼ì¤€ì´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
            <button class="close-btn" onclick="closeModal()">í™•ì¸</button>
        </div>
    </div>

    <!-- íŒë§¤ ëª¨ë‹¬ -->
    <div class="sell-modal" id="sellModal">
        <div class="sell-content">
            <div class="sell-title">ğŸ· ë¼ì¤€ì´ íŒë§¤</div>
            <div class="sell-warning">
                âš ï¸ íŒë§¤í•˜ë©´ ë¼ì¤€ì´ê°€ +0ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤!
            </div>
            <div class="sell-info">
                <div class="sell-info-item">
                    <span>í˜„ì¬ ë“±ê¸‰:</span>
                    <span style="font-weight: bold; color: #667eea;">+<span id="sellLevel">0</span></span>
                </div>
                <div class="sell-info-item">
                    <span>íŒë§¤ ê°€ê²©:</span>
                    <span class="sell-price"><span id="sellPrice">0</span>ì›</span>
                </div>
            </div>
            <div class="sell-buttons">
                <button class="sell-cancel-btn" onclick="closeSellModal()">ì·¨ì†Œ</button>
                <button class="sell-confirm-btn" onclick="confirmSell()">íŒë§¤í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // íš¨ê³¼ìŒ ì‹œìŠ¤í…œ
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContext();
        let soundEnabled = true;

        // íš¨ê³¼ìŒ ìƒì„± í•¨ìˆ˜ë“¤
        function playSound(type) {
            if (!soundEnabled) return;

            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            switch(type) {
                case 'success':
                    // ì„±ê³µìŒ (ìƒìŠ¹í•˜ëŠ” í™”ìŒ)
                    oscillator.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5
                    oscillator.frequency.setValueAtTime(659.25, audioCtx.currentTime + 0.1); // E5
                    oscillator.frequency.setValueAtTime(783.99, audioCtx.currentTime + 0.2); // G5
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.4);
                    break;

                case 'fail':
                    // ì‹¤íŒ¨ìŒ (í•˜ê°•ìŒ)
                    oscillator.frequency.setValueAtTime(392.00, audioCtx.currentTime); // G4
                    oscillator.frequency.setValueAtTime(329.63, audioCtx.currentTime + 0.15); // E4
                    oscillator.type = 'triangle';
                    gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.3);
                    break;

                case 'destroy':
                    // íŒŒê´´ìŒ (í­ë°œìŒ)
                    oscillator.frequency.setValueAtTime(200, audioCtx.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.3);
                    oscillator.type = 'sawtooth';
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.3);
                    break;

                case 'click':
                    // í´ë¦­ìŒ
                    oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.05);
                    oscillator.start(audioCtx.currentTime);
                    oscillator.stop(audioCtx.currentTime + 0.05);
                    break;

                case 'sell':
                    // íŒë§¤ìŒ (ëˆ ì†Œë¦¬)
                    for (let i = 0; i < 3; i++) {
                        const osc = audioCtx.createOscillator();
                        const gain = audioCtx.createGain();
                        osc.connect(gain);
                        gain.connect(audioCtx.destination);
                        osc.frequency.setValueAtTime(1000 + i * 200, audioCtx.currentTime + i * 0.05);
                        osc.type = 'sine';
                        gain.gain.setValueAtTime(0.15, audioCtx.currentTime + i * 0.05);
                        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.05 + 0.1);
                        osc.start(audioCtx.currentTime + i * 0.05);
                        osc.stop(audioCtx.currentTime + i * 0.05 + 0.1);
                    }
                    return; // ì´ë¯¸ ì—¬ëŸ¬ ì†Œë¦¬ë¥¼ ì¬ìƒí–ˆìœ¼ë¯€ë¡œ ë¦¬í„´
            }
        }

        // ìŒì†Œê±° í† ê¸€
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const btn = document.getElementById('soundToggle');
            btn.textContent = soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
            playSound('click');
        }
        // ê²Œì„ ë°ì´í„°
        let gameData = {
            money: 1000000, //ê¸°ë³¸ 1000
            level: 0,
            upgradeCount: 0
        };

        // ê°•í™” í™•ë¥  í…Œì´ë¸” (ë ˆë²¨ë³„)
        const probabilityTable = {
            0: { success: 100, fail: 0, destroy: 0 },
            1: { success: 95, fail: 5, destroy: 0 },
            2: { success: 90, fail: 10, destroy: 0 },
            3: { success: 85, fail: 15, destroy: 0 },
            4: { success: 80, fail: 18, destroy: 2 },
            5: { success: 75, fail: 20, destroy: 5 },
            6: { success: 70, fail: 20, destroy: 10 },
            7: { success: 60, fail: 25, destroy: 15 },
            8: { success: 50, fail: 25, destroy: 25 },
            9: { success: 40, fail: 30, destroy: 30 },
            10: { success: 30, fail: 30, destroy: 40 },
            11: { success: 20, fail: 30, destroy: 50 },
            12: { success: 15, fail: 25, destroy: 60 },
            13: { success: 10, fail: 20, destroy: 70 },
            14: { success: 5, fail: 15, destroy: 80 },
            15: { success: 3, fail: 12, destroy: 85 }
        };

        // ê°•í™” ë¹„ìš© ê³„ì‚°
        function getCost(level) {
            return 100 * Math.pow(1.5, level);
        }

        // íŒë§¤ ê°€ê²© ê³„ì‚° (ë“±ê¸‰ì´ ë†’ì„ìˆ˜ë¡ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ë¹„ìŒˆ)
        function getSellPrice(level) {
            if (level === 0) return 0;
            
            // ê¸°ë³¸ ê³µì‹: 500 * (2^level) * level
            // ì¶”ê°€ ë³´ë„ˆìŠ¤: 10ë ˆë²¨ ì´ìƒì€ ì¶”ê°€ ë°°ìœ¨
            let basePrice = 100 * Math.pow(2, level) * level;
            
            if (level >= 15) {
                basePrice *= 2.5; // 15ë ˆë²¨ ì´ìƒ 2.5ë°°
            } else if (level >= 12) {
                basePrice *= 2; // 12ë ˆë²¨ ì´ìƒ 2ë°°
            } else if (level >= 10) {
                basePrice *= 1.5; // 10ë ˆë²¨ ì´ìƒ 1.5ë°°
            }
            
            return Math.floor(basePrice);
        }

        // í™•ë¥  ê°€ì ¸ì˜¤ê¸°
        function getProbability(level) {
            if (level > 15) {
                return { success: 1, fail: 9, destroy: 90 };
            }
            return probabilityTable[level] || probabilityTable[15];
        }

        // UI ì—…ë°ì´íŠ¸
        function updateUI() {
            document.getElementById('money').textContent = Math.floor(gameData.money);
            document.getElementById('level').textContent = gameData.level;
            document.getElementById('upgradeCount').textContent = gameData.upgradeCount;
            
            const cost = getCost(gameData.level);
            document.getElementById('cost').textContent = Math.floor(cost);
            
            const prob = getProbability(gameData.level);
            document.getElementById('successRate').textContent = prob.success;
            document.getElementById('failRate').textContent = prob.fail;
            document.getElementById('destroyRate').textContent = prob.destroy;

            // ëˆ ë¶€ì¡±ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™”
            const btn = document.getElementById('upgradeBtn');
            if (gameData.money < cost) {
                btn.disabled = true;
                btn.textContent = 'ğŸ’¸ ëˆì´ ë¶€ì¡±í•´ìš”!';
            } else {
                btn.disabled = false;
                btn.textContent = 'âš”ï¸ ê°•í™”í•˜ê¸°!';
            }

            // ë ˆë²¨ì— ë”°ë¥¸ ì´ëª¨ì§€ ë³€ê²½
            updateDaejunEmoji();
        }

        // ë¼ì¤€ì´ ì´ëª¨ì§€ ì—…ë°ì´íŠ¸
        function updateDaejunEmoji() {
            const level = gameData.level;
            let emoji = 'ğŸ·';
            
            if (level >= 15) emoji = 'ğŸ‘‘ğŸ·âœ¨';
            else if (level >= 12) emoji = 'ğŸ’ğŸ·';
            else if (level >= 10) emoji = 'â­ğŸ·';
            else if (level >= 7) emoji = 'ğŸŒŸğŸ·';
            else if (level >= 5) emoji = 'âœ¨ğŸ·';
            else if (level >= 3) emoji = 'ğŸ·ğŸ’«';
            
            document.getElementById('daejunEmoji').textContent = emoji;
        }

        // íŒŒí‹°í´ ìƒì„±
        function createParticles(x, y, emoji, count) {
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emoji;
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.fontSize = (Math.random() * 20 + 20) + 'px';
                particle.style.left = (x + (Math.random() - 0.5) * 100) + 'px';
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // ê°•í™” ì‹¤í–‰
        function upgrade() {
            const cost = getCost(gameData.level);
            
            if (gameData.money < cost) {
                return;
            }

            // ëˆ ì°¨ê°
            gameData.money -= cost;
            gameData.upgradeCount++;

            // í™•ë¥  ê³„ì‚°
            const prob = getProbability(gameData.level);
            const rand = Math.random() * 100;

            let result;
            if (rand < prob.success) {
                result = 'success';
            } else if (rand < prob.success + prob.fail) {
                result = 'fail';
            } else {
                result = 'destroy';
            }

            // ê²°ê³¼ ì²˜ë¦¬
            handleResult(result);
        }

        // ê²°ê³¼ ì²˜ë¦¬
        function handleResult(result) {
            const modal = document.getElementById('resultModal');
            const icon = document.getElementById('resultIcon');
            const text = document.getElementById('resultText');
            const detail = document.getElementById('resultDetail');

            if (result === 'success') {
                playSound('success');
                gameData.level++;
                icon.textContent = 'ğŸ‰';
                text.textContent = 'ê°•í™” ì„±ê³µ!';
                text.className = 'result-text result-success';
                detail.textContent = `+${gameData.level} ë¼ì¤€ì´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!`;
                
                // íŒŒí‹°í´ íš¨ê³¼
                createParticles(window.innerWidth / 2, window.innerHeight / 2, 'âœ¨', 10);
                
                // ê³ ë ˆë²¨ ì„±ê³µì‹œ ì¶”ê°€ ë³´ìƒ
                if (gameData.level >= 10) {
                    const bonus = getCost(gameData.level) * 2;
                    gameData.money += bonus;
                    detail.textContent += `\në³´ë„ˆìŠ¤ ${Math.floor(bonus)}ì› íšë“!`;
                    createParticles(window.innerWidth / 2, window.innerHeight / 2, 'ğŸ’°', 15);
                }
            } else if (result === 'fail') {
                playSound('fail');
                icon.textContent = 'ğŸ˜¢';
                text.textContent = 'ê°•í™” ì‹¤íŒ¨...';
                text.className = 'result-text result-fail';
                detail.textContent = 'ë ˆë²¨ì€ ìœ ì§€ë©ë‹ˆë‹¤.';
                createParticles(window.innerWidth / 2, window.innerHeight / 2, 'ğŸ’¨', 5);
            } else {
                playSound('destroy');
                const oldLevel = gameData.level;
                gameData.level = Math.max(0, gameData.level - 99999999);
                icon.textContent = 'ğŸ’¥';
                text.textContent = 'íŒŒê´´ë˜ì—ˆìŠµë‹ˆë‹¤!';
                text.className = 'result-text result-destroy';
                detail.textContent = `+${oldLevel} â†’ +${gameData.level} `;
                createParticles(window.innerWidth / 2, window.innerHeight / 2, 'ğŸ’”', 8);
            }

            // ë¼ì¤€ì´ í”ë“¤ê¸° íš¨ê³¼
            const daejun = document.getElementById('daejunEmoji');
            daejun.style.animation = 'none';
            setTimeout(() => {
                daejun.style.animation = 'float 3s ease-in-out infinite';
            }, 10);

            updateUI();
            modal.classList.add('show');
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closeModal() {
            playSound('click');
            document.getElementById('resultModal').classList.remove('show');
        }

        // íŒë§¤ ëª¨ë‹¬ ì—´ê¸°
        function openSellModal() {
            playSound('click');
            
            if (gameData.level === 0) {
                alert('íŒë§¤í•  ë¼ì¤€ì´ê°€ ì—†ìŠµë‹ˆë‹¤! (ë ˆë²¨ 0)');
                return;
            }
            
            document.getElementById('sellLevel').textContent = gameData.level;
            document.getElementById('sellPrice').textContent = getSellPrice(gameData.level).toLocaleString();
            document.getElementById('sellModal').classList.add('show');
        }

        // íŒë§¤ ëª¨ë‹¬ ë‹«ê¸°
        function closeSellModal() {
            playSound('click');
            document.getElementById('sellModal').classList.remove('show');
        }

        // íŒë§¤ í™•ì •
        function confirmSell() {
            playSound('sell');
            
            const sellPrice = getSellPrice(gameData.level);
            gameData.money += sellPrice;
            
            // íŒŒí‹°í´ íš¨ê³¼
            createParticles(window.innerWidth / 2, window.innerHeight / 2, 'ğŸ’°', 20);
            createParticles(window.innerWidth / 2, window.innerHeight / 2, 'âœ¨', 15);
            
            // ë ˆë²¨ ì´ˆê¸°í™”
            gameData.level = 0;
            
            updateUI();
            closeSellModal();
            
            // íŒë§¤ ì™„ë£Œ ì•Œë¦¼
            setTimeout(() => {
                const modal = document.getElementById('resultModal');
                const icon = document.getElementById('resultIcon');
                const text = document.getElementById('resultText');
                const detail = document.getElementById('resultDetail');
                
                icon.textContent = 'ğŸ’°';
                text.textContent = 'íŒë§¤ ì™„ë£Œ!';
                text.className = 'result-text result-success';
                detail.textContent = `${sellPrice.toLocaleString()}ì›ì„ íšë“í–ˆìŠµë‹ˆë‹¤!`;
                modal.classList.add('show');
            }, 300);
        }

        // ì´ˆê¸°í™”
        updateUI();

        // ìë™ ì €ì¥ (5ì´ˆë§ˆë‹¤)
        setInterval(() => {
            console.log('ê²Œì„ ìë™ ì €ì¥ë¨');
        }, 5000);
    </script>
</body>
</html>